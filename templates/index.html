<!DOCTYPE html>
<html>
<head>
    <title>Indian Language Translator</title>
</head>
<body>
    <h2>Translate between Indian Languages</h2>
    <form method="post" action="/translate">
        <label>Enter text:</label><br>
        <textarea name="text" rows="3" cols="50">{{ original_text or "" }}</textarea><br><br>

        <label>Source Language:</label>
        <select name="src_lang">
            {% for code, name in languages.items() %}
                <option value="{{ code }}">{{ name }}</option>
            {% endfor %}
        </select>
        <br><br>

        <label>Target Language:</label>
        <select name="tgt_lang">
            {% for code, name in languages.items() %}
                <option value="{{ code }}" {% if tgt_selected == code %}selected{% endif %}>{{ name }}</option>
            {% endfor %}
        </select><br><br>

        <button type="submit">Translate</button>
    </form>

    {% if translated_text %}
        <h3>Translation:</h3>
        <div style="border:1px solid #ccc; padding:10px; width:400px;">
            {{ translated_text }}
        </div>
    {% endif %}

    {% if audio_data %}
        <h3>Listen:</h3>
        <audio controls>
            <source src="{{ audio_data }}" type="audio/wav">
            Your browser does not support the audio element.
        </audio>
    {% endif %}
</body>
</html>
